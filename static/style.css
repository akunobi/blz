:root {
    /* Blue Lock softened palette */
    --lock-blue-1: #00f2ff; /* accent bright */
    --lock-blue-2: #7ef0ff; /* soft accent */
    --lock-blue-3: #0bc5d7; /* muted */
    --kurama-orange: #ff8a3d;
    --bg-900: #06070a; /* deep background */
    --bg-800: #0b1116; /* panel background */
    --panel: #071821; /* soft panel */
    --paper: #e9f7fb; /* very light */
    --muted: #9abcc6;

    --radius-sm: 8px;
    --radius-md: 14px;

    --font-ninja: 'Bebas Neue', cursive;
    --font-tech: 'Orbitron', sans-serif;
    --font-data: 'Rajdhani', sans-serif;
}

* { box-sizing: border-box; margin: 0; padding: 0; }

body {
    background: radial-gradient(circle at 20% 10%, rgba(0,242,255,0.03), transparent 10%),
                linear-gradient(180deg, var(--bg-900) 0%, #02060a 100%);
    color: #e6fbff;
    font-family: var(--font-data);
    height: 100vh; overflow: hidden;
}

/* === AMBIENTE: EL SELLO === */
.seal-bg {
    position: fixed; inset: 0; z-index: -2;
    background: radial-gradient(circle at 60% 30%, rgba(0,242,255,0.02), transparent 25%),
                radial-gradient(circle at 20% 80%, rgba(11,197,215,0.02), transparent 25%);
}
.chakra-particles {
    position: fixed; inset: 0; z-index: -1; opacity: 0.07;
    background-image: radial-gradient(circle at 10% 10%, rgba(0,242,255,0.02), transparent 10%),
                      radial-gradient(circle at 90% 90%, rgba(11,197,215,0.02), transparent 10%);
    background-size: 400px 400px;
    transform: translateZ(0);
}

/* === LAYOUT VERTICAL === */
.jinchuriki-layout {
    display: grid;
    grid-template-columns: 260px 1fr;
    grid-template-rows: 1fr;
    gap: 22px;
    height: 100vh; padding: 20px;
}

/* === 1. CADENAS (CANALES SUPERIORES) === */
.chains-container {
    background: linear-gradient(180deg, rgba(3,18,24,0.55), rgba(5,28,36,0.35));
    border-radius: var(--radius-md);
    padding: 14px;
    display: flex; flex-direction: column; gap: 12px;
    min-height: calc(100vh - 40px); /* fill sidebar height */
    box-shadow: 0 8px 34px rgba(0,18,22,0.6);
    overflow: auto;
}
.chains-header {
    color: var(--lock-blue-2); font-family: var(--font-tech); font-size: 0.95rem;
    letter-spacing: 2px; text-transform: uppercase; font-weight: 600;
}
.chains-scroll {
    display: flex; flex-direction: column; gap: 12px; overflow-y: auto; padding-right: 6px;
}
.chains-scroll::-webkit-scrollbar { width: 8px; background: transparent; }
.chains-scroll::-webkit-scrollbar-thumb { background: rgba(0,242,255,0.08); border-radius: 8px; }

/* ESTILO TIPO TALISMÁN/CADENA */
.chain-link {
    min-height: 56px; padding: 12px 14px; background: rgba(5,45,55,0.28);
    border: 1px solid rgba(127,242,255,0.06);
    border-radius: var(--radius-sm); color: var(--muted);
    display: flex; align-items: center; gap: 10px; cursor: pointer; transition: all 200ms ease;
    font-family: var(--font-ninja); font-size: 1.05rem; text-transform: uppercase;
}
.chain-link:hover {
    transform: translateX(6px);
    background: linear-gradient(90deg, rgba(0,242,255,0.06), rgba(11,197,215,0.02));
    color: #eaffff;
}
.chain-link.active {
    background: linear-gradient(90deg, rgba(0,242,255,0.12), rgba(11,197,215,0.06));
    color: #00121a; font-weight: 700; box-shadow: 0 8px 30px rgba(0,242,255,0.06);
    border: 1px solid rgba(0,242,255,0.12);
}

/* === 2. LA JAULA (CHAT) === */
.cage-chat-area {
    display: flex; gap: 18px; align-items: stretch; position: relative; overflow: hidden;
}

/* HUD LATERAL FLOTANTE */
.chakra-hud {
    width: 240px; padding: 16px; border-radius: var(--radius-sm);
    background: linear-gradient(180deg, rgba(2,12,16,0.55), rgba(1,8,12,0.4));
    display: flex; flex-direction: column; gap: 10px; align-self: start;
    box-shadow: 0 10px 30px rgba(0,18,22,0.45); opacity: 0; transform: translateY(-6px);
    position: sticky; top: 24px; /* stay visible while scrolling chat */
}
.chakra-hud.visible { opacity: 1; transform: translateY(0); }

.hud-row { display: flex; flex-direction: column; }
.lbl { font-size: 0.7rem; color: #666; font-family: var(--font-tech); }
.val { font-size: 1.5rem; font-family: var(--font-ninja); color: #fff; }
.val.orange { color: var(--kurama-orange); text-shadow: 0 0 10px var(--kurama-orange); }

/* FEED CENTRAL */
.beast-feed {
    flex: 1; overflow-y: auto; padding: 28px; border-radius: var(--radius-md);
    background: linear-gradient(180deg, rgba(1,12,16,0.35), rgba(0,6,9,0.45));
    display: flex; flex-direction: column; gap: 18px; min-height: 0;
}

.seal-mark { margin: auto; text-align: center; opacity: 0.12; color: var(--lock-blue-3); }
.mark-symbol { font-size: 6.5rem; font-family: 'Times New Roman', serif; border: 3px solid rgba(127,242,255,0.08); border-radius: 50%; width: 140px; height: 140px; line-height: 136px; margin: 0 auto 18px; }

/* MENSAJES: FUSIÓN */
.msg-fused {
    position: relative; padding: 14px 18px; background: rgba(3,18,22,0.28);
    border-left: 6px solid rgba(0,242,255,0.10); border-radius: 14px; transition: all 200ms ease;
    box-shadow: 0 8px 26px rgba(0,12,14,0.55);
}
.msg-fused:hover { transform: translateX(8px); border-left-color: rgba(0,242,255,0.20); }
.msg-auth { font-size: 0.95rem; color: var(--lock-blue-1); font-family: var(--font-tech); margin-bottom: 8px; font-weight: 800; }
.msg-body { font-size: 1.06rem; color: #e8feff; line-height: 1.5; }
.msg-body a { color: var(--lock-blue-2); text-decoration: underline; }
.msg-meta { font-size: 0.75rem; color: rgba(230,251,255,0.5); margin-top:6px; }

/* === 3. INPUT (PERGAMINO FLOTANTE) === */
.scroll-input-wrapper {
    position: sticky; bottom: 24px; margin: 0 auto; width: calc(100% - 80px); max-width: 920px; z-index: 120;
    display: flex; align-items: center; gap: 12px; justify-content: center;
}
.scroll-body { flex: 1; background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(0,0,0,0.03));
    padding: 10px 16px; border-radius: 999px; display:flex; align-items:center; box-shadow: 0 10px 30px rgba(0,18,22,0.5);
}
#msg-input {
    width: 100%; border: none; background: transparent; color: #eaffff; font-family: var(--font-data);
    font-size: 1.05rem; font-weight: 600; outline: none;
}
#send-btn {
    background: linear-gradient(90deg, var(--lock-blue-1), var(--lock-blue-3)); color: #00121a; border: none;
    padding: 12px 20px; border-radius: 999px; cursor: pointer; font-family: var(--font-ninja); font-size: 1rem;
    box-shadow: 0 8px 30px rgba(0,242,255,0.08);
}
#send-btn:hover { filter: brightness(1.03); transform: translateY(-1px); }

/* === 4. OJO DE KURAMA (STATS) === */
.eye-container {
    position: absolute; bottom: 20px; right: 28px; display:flex; flex-direction:column; align-items:center; gap:6px;
}
.kurama-eye-btn {
    width: 80px; height: 50px;
    background: #000; border: 2px solid var(--kurama-orange);
    border-radius: 50% 50% 50% 0; transform: rotate(-45deg);
    cursor: pointer; position: relative; overflow: hidden;
    box-shadow: 0 0 20px rgba(255, 94, 0, 0.3); transition: 0.3s;
}
.eye-slit {
    position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
    width: 4px; height: 30px; background: var(--kurama-orange);
    border-radius: 50%; transition: 0.3s;
}
.kurama-eye-btn:hover { background: var(--kurama-orange); box-shadow: 0 0 50px var(--kurama-orange); }
.kurama-eye-btn:hover .eye-slit { background: #000; height: 35px; width: 8px; }
.eye-label { font-family: var(--font-ninja); color: var(--kurama-orange); letter-spacing: 2px; }

/* === DRAWER (FUSIÓN) === */
.kurama-drawer {
    position: fixed; inset: 0; background: linear-gradient(180deg, rgba(0,0,0,0.92), rgba(2,6,8,0.96)); transition: 0.45s; z-index: 200; display:flex; justify-content:flex-end;
}
.kurama-drawer.active { transform: translateX(0); }

.drawer-content {
    width: 600px; height: 100%; background: linear-gradient(180deg, rgba(2,12,16,0.78), rgba(1,8,12,0.9));
    border-left: 4px solid rgba(0,242,255,0.08); padding: 38px; display:flex; flex-direction:column; border-top-left-radius: 10px;
}

.drawer-header { display:flex; justify-content:space-between; padding-bottom: 18px; margin-bottom: 30px; }
.drawer-header h2 { font-family: var(--font-ninja); font-size: 2.6rem; color: var(--lock-blue-1); margin:0; }
.close-btn { background: transparent; border: none; color: #dffaff; font-size: 1.8rem; cursor: pointer; }

.drawer-grid { display:flex; gap: 28px; flex:1; }
.power-col { flex: 1; }
.blue-side h3 { color: var(--lock-blue); border-bottom: 1px solid var(--lock-blue); margin-bottom: 20px; font-family: var(--font-tech); }
.orange-side h3 { color: var(--kurama-orange); border-bottom: 1px solid var(--kurama-orange); margin-bottom: 20px; font-family: var(--font-tech); }

.stat-row { display: flex; justify-content: space-between; margin-bottom: 15px; }
.stat-row input { background: rgba(255,255,255,0.02); border: 1px solid rgba(255,255,255,0.04); color: #eaffff; padding:8px; width:66px; text-align:center; border-radius:8px; }
.blue-side input:focus { border-color: var(--lock-blue-1); box-shadow: 0 6px 24px rgba(0,242,255,0.06); }
.orange-side input:focus { border-color: var(--lock-blue-3); box-shadow: 0 6px 24px rgba(11,197,215,0.04); }

#ui-stats-btn {
    width:100%; padding:14px; margin-top:20px; background: linear-gradient(90deg, var(--lock-blue-2), var(--lock-blue-3));
    border:none; color:#00121a; font-family: var(--font-ninja); font-size:1.2rem; border-radius:10px; cursor:pointer;
}
#ui-stats-btn:hover { filter: brightness(1.03); transform: translateY(-2px); }

/* MODAL */
.modal-seal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.9); z-index: 300; justify-content: center; align-items: center; }
.modal-scroll { background: #eee; padding: 20px; box-shadow: 0 0 100px var(--kurama-orange); border-radius: 5px; }
.modal-actions { display: flex; gap: 10px; margin-top: 20px; }
.modal-actions button { flex: 1; padding: 10px; border: none; font-family: var(--font-ninja); font-size: 1.2rem; cursor: pointer; background: #000; color: #fff; }
#copy-stats-btn { background: var(--kurama-orange); color: #000; }