:root {
    --neon: #00f2ff;
    --dark-void: #050505;
    --glass: rgba(0, 242, 255, 0.05);
    --text: #e0e0e0;
    
    --font-head: 'Teko', sans-serif;
    --font-code: 'JetBrains Mono', monospace;
}

* { box-sizing: border-box; margin: 0; padding: 0; }

body {
    background-color: var(--dark-void);
    color: var(--text);
    font-family: var(--font-code);
    height: 100vh; overflow: hidden;
    font-size: 14px;
}

/* === AMBIENTE SUCIO/FUTURISTA === */
.noise-bg {
    position: fixed; inset: 0; z-index: -2; opacity: 0.05;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
}
.grid-floor {
    position: fixed; top: 50%; left: -50%; width: 200%; height: 100%;
    background: linear-gradient(transparent 0%, var(--neon) 100%);
    opacity: 0.05; transform: perspective(500px) rotateX(60deg);
    z-index: -1; pointer-events: none;
}
.vignette {
    position: fixed; inset: 0; pointer-events: none;
    background: radial-gradient(circle, transparent 40%, #000 100%);
}

/* === LAYOUT DESCONSTRUIDO === */
.radical-layout {
    position: relative; width: 100%; height: 100%;
}

/* 1. CANALES (CASCADA ROTA) */
.targets-zone {
    position: absolute; left: 20px; top: 100px; bottom: 50px; width: 220px;
    display: flex; flex-direction: column;
}
.zone-label {
    font-family: var(--font-head); font-size: 1.5rem; color: #444;
    transform: rotate(-90deg); position: absolute; left: -60px; top: 50px;
    letter-spacing: 5px;
}

.broken-list {
    flex: 1; overflow-y: auto; padding: 20px 0;
    scrollbar-width: none;
}
.broken-list::-webkit-scrollbar { display: none; }

/* EL ELEMENTO "CANAL" ILÓGICO */
.data-shard {
    display: block; width: 100%;
    background: transparent; border: none;
    color: #666; font-family: var(--font-head); font-size: 1.2rem;
    text-align: left; padding: 10px; margin-bottom: 5px;
    cursor: pointer; transition: 0.2s;
    position: relative;
    border-left: 2px solid transparent;
}

/* Aquí está la "magia ilógica": desplazamientos aleatorios */
.data-shard:nth-child(odd) { padding-left: 20px; border-left-color: #222; }
.data-shard:nth-child(even) { padding-left: 0px; text-align: right; border-right: 2px solid #222; }
.data-shard:nth-child(3n) { padding-left: 40px; transform: skewX(-10deg); }

.data-shard:hover {
    color: var(--neon); background: rgba(0, 242, 255, 0.05);
    text-shadow: 0 0 10px var(--neon);
    transform: scale(1.1) translateX(10px) !important;
}
.data-shard.active {
    color: #000; background: var(--neon);
    font-weight: bold; transform: scale(1.05);
    box-shadow: 5px 5px 0 #fff; /* Sombra dura */
}

/* 2. CHAT & HUD (FLOTANTES) */
.void-feed-container {
    position: absolute; top: 80px; bottom: 80px;
    left: 280px; right: 50px; /* Deja espacio a la derecha */
    display: flex; flex-direction: column;
}

.raw-feed {
    flex: 1; overflow-y: auto;
    padding-right: 20px;
    display: flex; flex-direction: column; gap: 25px;
    /* Sin bordes, sin fondo, solo texto flotando */
}

.system-idle {
    margin: auto; color: #333; font-family: var(--font-head); font-size: 2rem;
}
.blink { animation: blink 1s infinite; }
@keyframes blink { 50% { opacity: 0; } }

/* Mensajes Fragmentados */
.msg-raw {
    max-width: 80%;
    padding-left: 15px; border-left: 1px solid #333;
    position: relative;
    transition: 0.3s;
}
.msg-raw:hover { border-left: 3px solid var(--neon); padding-left: 20px; }
.msg-header { 
    font-size: 0.75rem; color: var(--neon); margin-bottom: 5px; 
    font-family: var(--font-head); letter-spacing: 1px; 
}
.msg-content { font-size: 1rem; color: #ddd; line-height: 1.4; }
.msg-content a { color: #fff; text-decoration: underline; text-decoration-style: wavy; }

/* HUD (INFO TICKET) */
.hologram-hud {
    height: 80px; margin-top: 20px;
    /* Se posiciona un poco a la izquierda, asimétrico */
    margin-right: 200px; 
    border: 1px solid #222;
    background: rgba(0,0,0,0.8);
    display: flex; flex-direction: column;
    opacity: 0; transform: translateY(20px); transition: 0.5s;
}
.hologram-hud.visible { opacity: 1; transform: translateY(0); }

.holo-glitch-bar { height: 2px; width: 100%; background: var(--neon); animation: glitch-bar 2s infinite; }
@keyframes glitch-bar { 0% { width: 100%; } 50% { width: 90%; opacity: 0.5; } 100% { width: 100%; } }

.holo-info { display: flex; align-items: center; justify-content: space-around; height: 100%; }
.data-point { display: flex; flex-direction: column; align-items: center; }
.data-point .lbl { font-size: 0.6rem; color: #555; }
.data-point .val { font-family: var(--font-head); font-size: 1.2rem; color: #fff; }
.data-point .val.active { color: var(--neon); text-shadow: 0 0 5px var(--neon); }

/* 3. INPUT (CONSOLA) */
.command-line-wrapper {
    position: absolute; top: 30px; right: 30px;
    width: 450px; z-index: 100;
    transform: rotate(1deg); /* Ligera rotación incómoda */
}
.cmd-decor { 
    font-size: 0.7rem; color: var(--neon); margin-bottom: 2px; text-align: right; 
    font-family: var(--font-head);
}
.cmd-input-box {
    display: flex; background: #000; border: 1px solid #fff;
    box-shadow: 5px 5px 0 var(--neon); /* Sombra sólida neón */
}
#msg-input {
    flex: 1; background: transparent; border: none; color: #fff;
    padding: 15px; font-family: var(--font-code); font-size: 1rem; outline: none;
}
#send-btn {
    background: #fff; color: #000; border: none; padding: 0 20px;
    font-family: var(--font-head); font-size: 1.2rem; cursor: pointer;
    font-weight: bold;
}
#send-btn:hover { background: var(--neon); }

/* 4. STATS (REACTOR) */
.stats-trigger-zone {
    position: absolute; bottom: 40px; right: 40px; z-index: 90;
}
.radical-stat-btn {
    width: 80px; height: 80px;
    background: #000; border: 2px solid var(--neon);
    color: var(--neon); cursor: pointer;
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    /* Forma de diamante cortado */
    clip-path: polygon(20% 0%, 80% 0%, 100% 20%, 100% 80%, 80% 100%, 20% 100%, 0% 80%, 0% 20%);
    transition: 0.3s;
}
.stat-icon { font-size: 1.5rem; margin-bottom: 5px; }
.stat-label { font-family: var(--font-head); font-size: 0.8rem; line-height: 1; }

.radical-stat-btn:hover {
    background: var(--neon); color: #000;
    transform: scale(1.1) rotate(45deg); /* Gira al hover */
}
.radical-stat-btn:hover .stat-label, .radical-stat-btn:hover .stat-icon {
    transform: rotate(-45deg); /* Mantiene el texto recto mientras el botón gira */
}

/* DRAWER (PANEL LATERAL) */
.shard-drawer {
    position: fixed; top: 0; right: 0; bottom: 0; width: 450px;
    background: rgba(0,0,0,0.95); border-left: 1px solid var(--neon);
    transform: translateX(100%) skewX(-10deg); /* Entra inclinado */
    transition: 0.4s; z-index: 200;
    display: flex; flex-direction: column;
}
.shard-drawer.active { transform: translateX(0) skewX(0); }

.drawer-inner { padding: 40px; height: 100%; overflow-y: auto; }
.drawer-title { display: flex; justify-content: space-between; margin-bottom: 40px; border-bottom: 4px solid #fff; }
.drawer-title h2 { font-family: var(--font-head); font-size: 2.5rem; color: #fff; margin: 0; }
.close-x { background: transparent; border: 1px solid var(--neon); color: var(--neon); padding: 5px 15px; cursor: pointer; font-family: var(--font-head); }

.metrics-container { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; }
.m-col h3 { color: var(--neon); font-family: var(--font-head); margin-bottom: 15px; }

.raw-inp { display: flex; justify-content: space-between; margin-bottom: 10px; border-bottom: 1px solid #222; }
.raw-inp label { font-weight: bold; color: #666; }
.raw-inp input { background: transparent; border: none; color: #fff; text-align: right; width: 50px; font-family: var(--font-head); font-size: 1.2rem; outline: none; }
.raw-inp input:focus { color: var(--neon); }

#ui-stats-btn {
    width: 100%; padding: 15px; margin-top: 30px;
    background: transparent; border: 2px solid #fff; color: #fff;
    font-family: var(--font-head); font-size: 1.5rem; cursor: pointer;
    transition: 0.2s;
}
#ui-stats-btn:hover { background: var(--neon); color: #000; box-shadow: 5px 5px 0 #fff; }

/* MODAL */
.modal-void { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.95); z-index: 300; justify-content: center; align-items: center; }
.modal-content-raw { padding: 20px; border: 1px solid var(--neon); background: #000; }
.modal-actions { display: flex; gap: 20px; margin-top: 20px; }
.modal-actions button { flex: 1; padding: 10px; border: none; font-family: var(--font-head); font-size: 1.2rem; cursor: pointer; }
#close-modal { background: #222; color: #fff; }
#copy-stats-btn { background: var(--neon); color: #000; }